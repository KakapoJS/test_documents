# 语音命令识别

## 1. 接口描述

接口请求域名：dev-winner-api.neunit.com:18052
接口请求路径： POST /cloud/sc/v1/chunk

本接口支持对语音命令进行识别
- 支持 pcm 格式的语音流，具体信息请参见下文说明。

## 2. 输入参数

以下请求参数列表仅列出了接口请求参数。

| 参数名称   | 必选 | 类型    | 描述                                                         |
| :--------- | :--- | :------ | :----------------------------------------------------------- |
| audio_chunk       | 是   | String  | 音频二进制流 base64 后的内容。|

## 3. 输出参数

| 参数名称   | 类型   | 描述                      |
| :--------- | :----- | :------------------------ |
| rid | String | 本次请求唯一 id |
| code | Integer | 状态码，成功为 0，错误为其他值 | 
| msg | String | 状态信息，成功为 OK，错误为其他信息 | 
| data | Object | 返回数据，成功状态下有值，具体结构见下文 |

### data 参数结构

| 参数名称   | 类型   | 描述                      |
| :--------- | :----- | :------------------------ |
| results | Array of Result | 匹配结果，具体结构见下文。|

### Result 参数结构

| 参数名称   | 类型   | 描述                      |
| :--------- | :----- | :------------------------ |
| score | Float | 匹配分值。|
| label | String | 匹配标签。|

## 4. 示例

### 示例1 成功返回匹配分值

用户通过上传一段 pcm 格式的录音经过 base64 编码后传入，成功返回匹配结果。

#### 输入示例

```json
POST / HTTP/1.1
Host: host
Content-Type: application/json
Path: /cloud/sc/v1/chunk

{
  "audio_chunk": "AAAAAAAAAAAAAAAAAAAAAAAAAADQ/z3/Hf8C/w//9/...",
}
```



#### 输出示例

```json
{
    "rid": "43b6700fc2d0c9203eaa35ff53dda7fa",
    "code": 0,
    "msg": "OK",
    "data": {
        "results": [
            {
                "score": 0.054281190037727356,
                "label": "off"
            },
            {
                "score": 0.05177304148674011,
                "label": "up"
            }
        ]
    }
}
```



## 5. 开发者资源

### SDK

云 API 提供了配套的开发工具集（SDK），支持多种编程语言，能更方便的调用 API。
- [Neunit Cloud SDK for Go](https://neunit.coding.net/p/kms/d/cloud-sdk-go/git)


## 6. 错误码

以下仅列出了接口业务逻辑相关的错误码，其他错误码详见 [公共错误码](../error/%E5%85%AC%E5%85%B1%E9%94%99%E8%AF%AF%E7%A0%81.md)。

| 错误码                                    | 描述                                                         |
| :---------------------------------------- | :----------------------------------------------------------- |
| 10102001                                  |  sc 转义失败，请稍后重试。                                   |         
